-- Caffeine replacement

iconOn = [[ASCII:
.....1a.....
............
......4.....
1..........a
e.2......4.3
............
............
............
e.2......6.3
5..........c
......6.....
............
.....5c.....
]]

iconOff = [[ASCII:
.......4..46
.......5.5.7
............
............
.......6.8.8
.......79..9
...1.12.....
............
............
...23.3.....
aab.........
............
bcc.........
]]

local module = {}

local menu = hs.menubar.new()

function setIcon(state)
  menu:setIcon(state and iconOn or iconOff)
end

function clickCallback()
  setIcon(hs.caffeinate.toggle("displayIdle"))
end

menu:setClickCallback(clickCallback)
setIcon(hs.caffeinate.get("displayIdle"))

module.menu = menu
